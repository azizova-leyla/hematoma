<p id="notice"><%= notice %></p>

<%= link_to @rule_set.description, tournament_path(id: @rule_set.tournament_id) %>

<h1>Rules</h1>

<h2>Score points</h2>
<table class="table">
  <thead>
    <tr>
      <th>Target</th>
      <th>Points</th>
      <th>Remove</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @rule_set.rules.each do |rule| %>
      <% if !rule.is_penalty %>
        <tr>
          <td><%= rule.target %></td>
          <td><%= rule.points %></td>
          <td>
            <form action="<%= remove_rule_path(@rule_set, rule_id: rule.id) %>" class="delete-form-button" method="post">
              <input name="_method" type="hidden" value="delete">
              <input class="btn btn-small" type="submit" value="X">
              <%= render partial: 'partials/authenticity_token' %>
            </form>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<form action="<%= add_target_rule_path(@rule_set) %>" method="POST" role="form" id="addFighterForm">
    <%= render partial: 'partials/authenticity_token' %>

    <div class="form-group tournament-add-rule">
      <label>Target<input type="text" name="rule[target]" id="target" class="form-control"></label>
      <label>Points<input type="text" name="rule[points]" id="points" class="form-control"></label>
      <button class="btn btn-primary sign-in-button">Add target</button>
    </div>
  </form>

<h2>Penalties</h2>
<table class="table">
  <thead>
    <tr>
      <th>Penalty</th>
      <th>Points</th>
      <th>Remove</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @rule_set.rules.each do |rule| %>
      <% if rule.is_penalty %>
        <tr>
          <td><%= rule.target %></td>
          <td><%= rule.points %></td>
          <td>
            <form action="<%= remove_rule_path(@rule_set, rule_id: rule.id) %>" class="delete-form-button" method="post">
              <input name="_method" type="hidden" value="delete">
              <input class="btn btn-small" type="submit" value="X">
              <%= render partial: 'partials/authenticity_token' %>
            </form>
          </td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<form action="<%= add_penalty_rule_path(@rule_set) %>" method="POST" role="form" id="addFighterForm">
    <%= render partial: 'partials/authenticity_token' %>

    <div class="form-group tournament-add-rule">
      <label>Penalty<input type="text" name="rule[target]" id="target" class="form-control"></label>
      <label>Points<input type="text" name="rule[points]" id="points" class="form-control"></label>
      <button class="btn btn-primary sign-in-button">Add penalty</button>
    </div>
 </form>